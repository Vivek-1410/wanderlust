<% layout("/layouts/boilerplate") -%> 

<style>
    .category-header {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 1rem;
    }

    .listing-card {
        margin-top: 1rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .listing-card img {
        height: 20rem;
        object-fit: cover;
    }

    .card-body {
        padding: 1rem;
    }

    .listing-card .card-body p {
        margin: 0;
    }

    .listing-link {
        text-decoration: none;
        color: inherit;
    }

    .back-button {
        margin: 1rem 0;
        padding: 0.5rem 1rem;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        text-align: center;
        display: inline-block;
        text-decoration: none;
    }

    .back-button:hover {
        background-color: #0056b3;
    }
</style>

<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">
    <% if (matchedDest && matchedDest.length) { %>
        <% matchedDest.forEach(listing => { %>
            <a class="listing-link" href="/listings/<%= listing._id %>">
                <div class="card listing-card">
                    <img src="<%= listing.image.url %>" class="card-img-top" alt="listing-image">
                    <div class="card-body">
                        <p><b><%= listing.title %></b></p>
                        <p>&#8377;<%= new Intl.NumberFormat("en-IN").format(listing.price) %> / night 
                            <i class="gst">+ 18% GST</i>
                        </p>
                    </div>
                </div>
            </a>
        <% }) %>
    <% } else { %>
        <p>No listings found for this destination. Try searching for a different place.</p>
    <% } %>
</div>
